(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{34:function(t,e,n){},56:function(t,e,n){},82:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var r,a,c,i=n(2),o=n.n(i),s=n(13),u=n.n(s),d=(n(56),n(3)),b=n(9),l=n(7),j=n.n(l),f=n(8),p=n(5),h=n(22),O=n(6),v=n(19),m=n(15),x=n.n(m),g=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null},n=Array(t),r=0;r<n.length;r++)n[r]=e(r);return n},y=function(t){return Math.PI*t/180},I=function(t,e){var n=e[0].length,r=e.length,a=Object(O.a)(t,2),c=a[0],i=a[1];return c<0||c>=n||i<0||i>=r},w=function(t,e){return x()(function(t,e){var n=Object(O.a)(t,2),r=n[0],a=n[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return[[r+1,a],[r-1,a],[r,a+1],[r,a-1]].filter((function(t){var n=Object(O.a)(t,2),r=n[0],a=n[1];return!I(t,e)&&c(e[a][r])}))}(t,e,(function(t){return!t.hit})))},N=function(t){var e=t.id,n=t.playerId,r=t.boardId,a=t.length,c=t.anchor,i=void 0===c?[0,0]:c,o=t.orientation;return{id:e,playerId:n,boardId:r,length:a,orientation:void 0===o?0:o,anchor:i,hit:Array(a).fill(!1)}},S=function(t){var e=Object(O.a)(t.anchor,2),n=e[0],r=e[1];return g(t.length,(function(e){return[Math.floor(n+e*Math.cos(y(t.orientation))+.5),Math.floor(r+e*Math.sin(y(t.orientation))+.5)]}))},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return(t+e)%360},P=function(t){return t.hit.every((function(t){return!0===t}))},A=Object(p.c)(),C=Object(p.d)({name:"ships",initialState:A.getInitialState(),reducers:{shipCreated:function(t,e){A.addOne(t,N(e.payload))},shipHit:{reducer:function(t,e){var n,r,a,c=e.payload,i=c.id,o=c.location,s=M.selectById(t,i);if(o<0||o>=s.length)return t;A.updateOne(t,{id:i,changes:{hit:(n=s.hit,r=o,a=!0,[].concat(Object(v.a)(n.slice(0,r)),[a],Object(v.a)(n.slice(r+1))))}})},prepare:function(t,e){return{payload:{id:t,location:e}}}},shipsReset:function(){return A.getInitialState()}}}),R=C.actions,H=R.shipCreated,T=R.shipHit,_=R.shipsReset,M=A.getSelectors(),E=A.getSelectors((function(t){return t.ships})),q=E.selectAll,B=E.selectById,V=(E.selectTotal,Object(h.a)(B,P)),W=(Object(h.a)(B,S),function(t){return Object(h.a)(q,(function(e){return e.filter((function(e){return e.playerId===t&&!P(e)})).length}))}),z=C.reducer,D=n(4),U=function(t){var e=t.id,n=t.playerId,r=t.size,a=void 0===r?10:r;return{id:e,playerId:n,state:g(a,(function(){return g(a,(function(){return{occupied:!1,hit:!1,previewing:!1}}))})),orientation:0,ships:[],preview:null,previewCoordinates:null,hitHistoryID:e,shipsToPlace:{Carrier:{name:"Carrier",length:5,quantity:1},Battleship:{name:"Battleship",length:4,quantity:1},Cruiser:{name:"Cruiser",length:3,quantity:1},Submarine:{name:"Submarine",length:3,quantity:1},Destroyer:{name:"Destroyer",length:2,quantity:1}},selectedShip:"Carrier"}},F=function(){return{ids:[1,2],entities:{1:U({id:1,playerId:1,size:10}),2:U({id:2,playerId:2,size:10})}}},J=function(t){var e=t.previewCoordinates,n=t.state;null===e||void 0===e||e.forEach((function(t){var e=Object(O.a)(t,2),r=e[0],a=e[1];n[a][r].previewing=!1}))},L={tileSet:{reducer:function(t,e){var n=e.payload,r=n.boardId,a=n.coordinates,c=n.props;!function(t,e,n){var r=Object(O.a)(n,2),a=r[0],c=r[1];t[c][a]=Object(D.a)(Object(D.a)(Object(D.a)({},t[c][a]),e),{},{occupied:!0})}(t.entities[r].state,c,a)},prepare:function(t,e,n){return{payload:{boardId:t,coordinates:e,props:n}}}},previewSet:function(t,e){var n=e.payload,r=n.boardId,a=t.entities[r];J(a),a.preview=n,a.previewCoordinates=function(t,e){return S(t).filter((function(t){return!I(t,e)}))}(n,a.state),function(t){var e=t.previewCoordinates,n=t.state;null===e||void 0===e||e.forEach((function(t){var e=Object(O.a)(t,2),r=e[0],a=e[1];n[a][r].previewing=!0}))}(a)},previewRemoved:function(t,e){var n=e.payload,r=t.entities[n];J(r),r.preview=null,r.previewCoordinates=null},orientationUpdated:function(t,e){var n=e.payload,r=t.entities[n],a=t.entities[n].orientation;r.orientation=k(a)},boardsReset:F},Y=function(){return{1:{id:1,boardId:1,state:[]},2:{id:2,boardId:2,state:[]}}},$=Object(p.d)({name:"hitHistory",initialState:{1:{id:1,boardId:1,state:[]},2:{id:2,boardId:2,state:[]}},reducers:{hitRecorded:{reducer:function(t,e){var n=e.payload,r=n.id,a=n.coordinate,c=n.info;t[r].state.push([a,c])},prepare:function(t,e,n){return{payload:{id:t,coordinate:e,info:n}}}},hitHistoryReset:Y}}),G=$.actions,K=G.hitRecorded,Q=G.hitHistoryReset,X=function(t,e){return t.hitHistory[e].state},Z=Object(h.a)(X,(function(t){return t[t.length-1]})),tt=function(t,e){var n=Ht(t,e);return Z(t,n)},et=$.reducer,nt=function(){return{current:1,entities:{1:{id:1,name:"Player",computer:!1,opponentId:2,boardId:1},2:{id:2,name:"Computer",computer:!0,opponentId:1,boardId:2}}}},rt=Object(p.d)({name:"players",initialState:{current:1,entities:{1:{id:1,name:"Player",computer:!1,opponentId:2,boardId:1},2:{id:2,name:"Computer",computer:!0,opponentId:1,boardId:2}}},reducers:{nameChanged:{reducer:function(t,e){var n=e.payload,r=n.number,a=n.name;t.entities[r].name=a},prepare:function(t,e){return{payload:{number:t,name:e}}}},turnEnded:function(t){t.current=t.current%Object.entries(t.entities).length+1},playersReset:nt}}),at=rt.actions,ct=(at.turnEnded,at.nameChanged,at.playersReset),it=function(t){return Object.values(t.players.entities)},ot=function(t,e){return t.players.entities[e]},st=function(t,e){var n=t.players.entities[e];return t.players.entities[n.opponentId]},ut=rt.reducer,dt=Object(p.b)("boards/shipPlacedStatus",(function(t,e){var n=e.dispatch,r=e.getState,a=e.rejectWithValue;return It(r(),t)?(n(H(t)),t):a("Ship cannot be placed")})),bt=Object(p.b)("boards/attackRecievedStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i,o,s,u,d,b,l,f,p,h,v,m;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.boardId,a=e.coordinate,c=Object(O.a)(e.coordinate,2),i=c[0],o=c[1],s=n.dispatch,u=n.getState,d=n.rejectWithValue,b=gt(u(),r),l=Ht(u(),r),0!==Ot(u(),r)){t.next=6;break}return t.abrupt("return",d("All ships have been placed!"));case 6:if(!I(a,b)){t.next=10;break}return t.abrupt("return",d("The coordinates (".concat(i,", ").concat(o,") are out of bounds")));case 10:b[o][i].occupied?(f=b[o][i],p=f.shipId,h=f.hitIndex,s(T(p,h)),v=B(u(),p),m=V(u(),p)?{status:"sunk",length:v.length}:{status:"hit"},s(K(l,a,m))):s(K(l,a,{status:"miss"}));case 11:return t.abrupt("return",{boardId:r,coordinate:a});case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),lt=function(t,e){return bt({boardId:t,coordinate:e})},jt=Object(p.b)("boards/randomShipsPlacedStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i,o,s,u,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,a=n.dispatch,c=n.getState;case 2:if(!(kt(c(),r)>0)){t.next=9;break}return i=St(c(),r),o=ht(c(),r,i),s=Object(O.a)(o,2),u=s[0],d=s[1],t.next=7,a(ft({boardId:r,anchor:u,orientation:d}));case 7:t.next=2;break;case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),{condition:function(t,e){var n=t.boardId,r=e.getState;return kt(r(),n)>0}}),ft=Object(p.b)("boards/nextShipPlacedStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i,o,s,u,d,b,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.boardId,a=e.anchor,c=e.orientation,i=n.dispatch,o=n.getState,s=n.rejectWithValue,u=St(o(),r),d=Ct(o(),r),!(u.quantity<=0)){t.next=6;break}return t.abrupt("return",s("Not enough ships remaining"));case 6:return b=At(o())-1,l={id:Object(p.e)(),length:u.length,anchor:a,orientation:c,boardId:r,playerId:d},t.next=10,i(dt(l));case 10:return 0===b&&i(Ft()),t.abrupt("return",[u,r]);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),pt=function(t){return Object.values(t).filter((function(t){return t.quantity>0}))},ht=function(t,e,n){var r=n.length,a=Nt(e,r)(t),c=x.a.pick(a),i=Object(O.a)(c,2);return[i[0],i[1]]},Ot=function(t,e){var n=Ct(t,e),r=st(t,n);return W(r.id)(t)},vt=(r={},Object(b.a)(r,dt.fulfilled,(function(t,e){var n=e.payload;!function(t,e){S(e).forEach((function(n,r){var a=Object(O.a)(n,2),c=a[0],i=a[1];t[i][c]=Object(D.a)(Object(D.a)({},t[i][c]),{},{shipId:e.id,hitIndex:r,occupied:!0})}))}(t.entities[n.boardId].state,n),t.entities[n.boardId].ships.push(n.id)})),Object(b.a)(r,bt.fulfilled,(function(t,e){var n=e.payload,r=n.boardId,a=Object(O.a)(n.coordinate,2),c=a[0],i=a[1];t.entities[r].state[i][c].hit=!0})),Object(b.a)(r,ft.fulfilled,(function(t,e){var n=Object(O.a)(e.payload,2),r=n[0].name,a=n[1],c=t.entities[a].shipsToPlace[r];c.quantity>0&&(c.quantity=c.quantity-1),0===c.quantity&&function(t,e){var n=t.entities[e].shipsToPlace,r=pt(n);0===r.length?(t.entities[e].selectedShip=null,t.entities[e].preview=null,t.entities[e].previewCoordinates=null):t.entities[e].selectedShip=r[0].name}(t,a)})),r),mt=function(t){return t.boards.entities},xt=function(t,e){return e?t.boards.entities[e]:void 0},gt=Object(h.a)(xt,(function(t){return t.state})),yt=(Object(h.a)((function(t){return t.boards.ids}),mt,(function(t,e){return t.map((function(t){return e[t]}))})),Object(h.a)(xt,(function(t){return null===t||void 0===t?void 0:t.preview}))),It=(Object(h.a)(xt,(function(t){return null===t||void 0===t?void 0:t.previewCoordinates})),function(t,e){if(null===e||void 0===e)return!1;var n=e.boardId,r=gt(t,n);return!S(e).some((function(t){var e=Object(O.a)(t,2),n=e[0],a=e[1];return I(t,r)||r[a][n].occupied}))}),wt=Object(h.a)(xt,(function(t){return null===t||void 0===t?void 0:t.orientation})),Nt=function(t,e){return function(n){var r=gt(n,t),a=[];return[0,90,180,270].forEach((function(c){r.forEach((function(r,i){r.forEach((function(r,o){var s=[o,i];It(n,{boardId:t,length:e,orientation:c,anchor:s})&&a.push([s,c])}))}))})),a}},St=Object(h.a)(xt,wt,(function(t,e){var n=t.selectedShip,r=t.shipsToPlace;return null===n?null:Object(D.a)(Object(D.a)({},r[n]),{},{orientation:e})})),kt=(Object(h.a)(xt,(function(t){return t.shipsToPlace})),Object(h.a)(xt,(function(t){var e=t.shipsToPlace;return Object.values(e).reduce((function(t,e){return t+e.quantity}),0)}))),Pt=function(t,e){return Object.values(t).reduce((function(t,n){return t+e(n)}),0)},At=Object(h.a)(mt,(function(t){return Pt(t,(function(t){var e=t.shipsToPlace;return Pt(e,(function(t){return t.quantity}))}))})),Ct=Object(h.a)(xt,(function(t){return t.playerId})),Rt=Object(h.a)(gt,(function(t){return t.flatMap((function(t,e){return t.reduce((function(t,n,r){return n.hit?t:t.concat([[r,e]])}),[])}))})),Ht=Object(h.a)(xt,(function(t){return t.hitHistoryID})),Tt=Object(p.d)({name:"boards",initialState:F(),reducers:L,extraReducers:vt}),_t=Tt.actions,Mt=(_t.tileSet,_t.previewSet),Et=_t.previewRemoved,qt=_t.orientationUpdated,Bt=_t.boardsReset,Vt=Tt.reducer,Wt=Object(p.b)("game/gameResetStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=n.dispatch)(Q()),r(Bt()),r(ct()),r(_());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),zt=function(){return{phases:["placement","started","ended"],winner:null,begun:!1}},Dt=Object(p.d)({name:"game",initialState:{phases:["placement","started","ended"],winner:null,begun:!1},reducers:{phaseAdvanced:function(t){t.phases.shift()},winnerSet:function(t,e){t.winner=e.payload},gameBegun:function(t){t.begun=!0}},extraReducers:Object(b.a)({},Wt.fulfilled,zt)}),Ut=Dt.actions,Ft=Ut.phaseAdvanced,Jt=Ut.winnerSet,Lt=Ut.gameBegun,Yt=function(t){return t.game},$t=Object(h.a)(Yt,(function(t){return t.phases[0]})),Gt=Object(h.a)(Yt,(function(t){return t.winner})),Kt=Object(h.a)(Yt,(function(t){return t.begun})),Qt=Dt.reducer,Xt=n(41),Zt=Object(i.createContext)(1),te=n(10),ee=n(12),ne=n.n(ee),re=n(51),ae=function(){return Object(i.useContext)(Zt)},ce=function(){var t=ae(),e=Object(d.c)((function(e){return st(e,t.id)}));return[t,e]},ie=Object(p.b)("huntAiTurnStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,a=n.dispatch,c=n.getState,"targeting"===Oe(c())&&0===me(c())&&a(le("hunting")),t.t0=Oe(c()),t.next="hunting"===t.t0?6:"targeting"===t.t0?8:10;break;case 6:return a(oe({boardId:r})),t.abrupt("break",11);case 8:return a(se({boardId:r})),t.abrupt("break",11);case 10:a(oe({boardId:r}));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),oe=Object(p.b)("huntAiHunted",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,(a=n.dispatch)(Ie({boardId:r})),a(ue({boardId:r,onHit:function(){a(le("targeting"))}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),se=Object(p.b)("huntAiTargeted",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.boardId,a=n.dispatch,c=n.getState,i=xe(c()),a(lt(r,i)),a(ue({boardId:r})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),ue=Object(p.b)("adjacentTargetsAdded",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i,o,s,u,d,b,l,f,p,h,v;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,a=e.onHit,c=void 0===a?function(){}:a,i=n.dispatch,o=n.getState,s=tt(o(),r),u=Object(O.a)(s,2),d=u[0],b=u[1],l=b.status,f=b.length,"miss"!==l&&(c(),p=gt(o(),r),h=w(d,p),i(je(h))),t.t0=l,t.next="hit"===t.t0?7:"sunk"===t.t0?9:12;break;case 7:return i(fe()),t.abrupt("break",12);case 9:return v=ge(o())-f+1,i(0===v?le("hunting"):pe(ge())),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),de=Object(p.d)({name:"huntAi",initialState:{mode:"hunting",targets:[],targetingHits:0},reducers:{aiModeSet:function(t,e){t.mode=e.payload,t.targets=[],t.targetingHits=0},targetsAdded:function(t,e){var n;(n=t.targets).push.apply(n,Object(v.a)(e.payload))},targetHit:function(t){t.targetingHits++},setTargetingHits:function(t,e){t.targetingHits=e.payload}},extraReducers:Object(b.a)({},se.fulfilled,(function(t,e){"targeting"===t.mode&&(t.targets=t.targets.filter((function(t){return!ye(t,e.payload)})))}))}),be=de.actions,le=be.aiModeSet,je=be.targetsAdded,fe=be.targetHit,pe=be.setTargetingHits,he=de.reducer,Oe=function(t){return t.huntAi.mode},ve=function(t){return t.huntAi.targets},me=Object(h.a)(ve,(function(t){return t.length})),xe=Object(h.a)(ve,(function(t){return t[t.length-1]})),ge=function(t){return t.huntAi.targetingHits},ye=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ie=Object(p.b)("randomAiTurnStatus",(function(t,e){var n=t.boardId,r=e.dispatch,a=e.getState,c=Ce(a(),n);r(lt(n,c))})),we=Object(p.b)("aiTurnStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,a,c,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,a=n.dispatch,c=n.getState,i=ke(c()),o=0;case 4:if(!(o<i)){t.next=16;break}t.t0=Ae(c()),t.next="hunt"===t.t0?8:(t.t0,11);break;case 8:return t.next=10,a(ie({boardId:r}));case 10:return t.abrupt("break",13);case 11:return t.next=13,a(Ie({boardId:r}));case 13:o++,t.next=4;break;case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),Ne=Object(p.b)("difficultyChosenStatus",function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.dispatch,t.next=3,r(Wt());case 3:return r(Lt()),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),Se=Object(p.d)({name:"ai",initialState:{turns:1,strategy:"hunt"},extraReducers:Object(b.a)({},Ne.fulfilled,(function(t,e){var n=e.payload,r=n.difficulty,a=n.strategy;switch(t.strategy=a,r){case"easy":t.turns=1;break;case"hard":t.turns=3;break;case"medium":default:t.turns=2}}))}),ke=function(t){return t.ai.turns},Pe=Se.reducer,Ae=function(t){return t.ai.strategy},Ce=function(t,e){var n=Rt(t,e);return x.a.pick(n)},Re=function(t,e){var n=t.boardId,r=t.id,a=Object(O.a)(e,2),c=a[0],o=a[1],s=Object(d.b)(),u=Object(d.c)((function(t){return St(t,n)})),b=Object(i.useState)(Object(D.a)(Object(D.a)({},u),{},{id:Object(p.e)(),boardId:n,playerId:r,anchor:[c,o]})),l=Object(O.a)(b,2),j=l[0],f=l[1];Object(i.useEffect)((function(){f(u?function(t){return Object(D.a)(Object(D.a)({},t),u)}:null)}),[u]);var h=Object(d.c)((function(t){return It(t,j)}));return{ship:j,isValidPlacement:h,placeShip:function(){j&&s(function(t,e,n){return ft({boardId:t,anchor:e,orientation:n})}(n,j.anchor,j.orientation))}}},He=n(1),Te=Object(i.createContext)(),_e=Te,Me=n(42),Ee=function(t){t.className;var e=Object(te.a)(t,["className"]),n=Object(i.useContext)(_e),r=n.coordinate.states,a=r.occupied,c=r.previewing,o=n.ship.isValidPlacement,s=n.preview,u=s.isPreviewValid,d=s.setPreview,b=s.removePreview;return Object(He.jsx)("button",Object(D.a)(Object(D.a)({onFocus:d,onMouseEnter:d,onBlur:b,onMouseLeave:b,className:ne()("coordinate",{coordinate__occupied:a,coordinate__previewing:c,"coordinate__previewing--invalid":c&&!u,"coordinate--valid-placement":o})},e),{},{children:c&&!u&&Object(He.jsx)(Me.a,{})}))},qe=(a=function(){var t=Object(i.useContext)(_e).ship,e=t.isValidPlacement,n=t.placeShip;return e?Object(He.jsx)(Ee,{onClick:n}):Object(He.jsx)(Ee,{tabIndex:"-1"})},function(t){var e=t.coordinateAPI,n=Object(i.useContext)(Zt),r=e.coordinate,c=Re(n,r),o={coordinate:e,ship:c,preview:function(t){var e=Object(d.b)(),n=null===t||void 0===t?void 0:t.boardId,r=Object(d.c)((function(t){return yt(t,n)}));return{isPreviewValid:Object(d.c)((function(t){return It(t,r)})),setPreview:function(){t&&e(Mt(t))},removePreview:function(){t&&e(Et(n))}}}(c.ship)};return Object(He.jsx)(Te.Provider,{value:o,children:Object(He.jsx)(a,{})})}),Be=function(t){var e=Object(i.useMemo)((function(){return W(t.id)}),[t]);return Object(d.c)(e)},Ve=n(24),We=n(43),ze=n(44),De=(n(34),function(t){return t.coordinateAPI.states.occupied?Object(He.jsx)(Ge,Object(D.a)({},t)):Object(He.jsx)($e,Object(D.a)({},t))}),Ue=function(t){t.coordinateAPI;var e=Object(te.a)(t,["coordinateAPI"]);return Object(He.jsx)("button",Object(D.a)(Object(D.a)({className:"coordinate coordinate__hit coordinate__occupied"},e),{},{children:Object(He.jsx)(Ve.b,{})}))},Fe=function(t){return t.coordinateAPI.states.occupied?Object(He.jsx)(Je,Object(D.a)({},t)):Object(He.jsx)(Le,Object(D.a)({},t))},Je=function(t){return function(t){var e=Object(d.c)((function(e){return B(e,t)})),n=Object(i.useState)(!1),r=Object(O.a)(n,2),a=r[0],c=r[1];return Object(i.useEffect)((function(){e&&c(P(e))}),[e]),a}(t.coordinateAPI.states.shipId)?Object(He.jsx)(Ye,Object(D.a)({},t)):Object(He.jsx)(Ue,Object(D.a)({},t))},Le=function(t){t.coordinateAPI;var e=Object(te.a)(t,["coordinateAPI"]);return Object(He.jsx)("button",Object(D.a)(Object(D.a)({className:"coordinate coordinate__miss"},e),{},{children:Object(He.jsx)(We.a,{})}))},Ye=function(t){t.coordinateAPI;var e=Object(te.a)(t,["coordinateAPI"]);return Object(He.jsx)("button",Object(D.a)(Object(D.a)({className:"coordinate coordinate__occupied coordinate__sunk"},e),{},{children:Object(He.jsx)(ze.a,{})}))},$e=function(t){t.coordinateAPI;var e=t.className,n=Object(te.a)(t,["coordinateAPI","className"]);return Object(He.jsx)("button",Object(D.a)({className:ne()(e,"coordinate")},n))},Ge=function(t){t.coordinateAPI;var e=Object(te.a)(t,["coordinateAPI"]);return Object(He.jsx)("button",Object(D.a)({className:"coordinate coordinate__occupied"},e))},Ke=function(t){var e=t.coordinate,n=t.states;return Object(i.useContext)(Zt).computer?Object(He.jsx)($e,{tabIndex:"-1"}):Object(He.jsx)(qe,{coordinateAPI:{coordinate:e,states:n}})},Qe=function(t){var e=t.coordinateAPI,n=e.states,r=e.coordinate,a=n.hit,c=function(t){var e=Object(d.b)(),n=ce(),r=Object(O.a)(n,2),a=r[0],c=r[1];return function(){e(lt(a.boardId,t)),e(we(c))}}(r);return a?Object(He.jsx)(Fe,Object(D.a)({tabIndex:"-1"},t)):Object(He.jsx)($e,Object(D.a)({className:"cursor-pointer coordinate__hover",onClick:c},t))},Xe=function(t){return t.coordinateAPI.states.hit?Object(He.jsx)(Fe,Object(D.a)({},t)):Object(He.jsx)(De,Object(D.a)({},t))},Ze=function(t){return Object(i.useContext)(Zt).computer?Object(He.jsx)(Qe,{coordinateAPI:t}):Object(He.jsx)(Xe,{coordinateAPI:t,tabIndex:"-1"})},tn=function(t){var e=t.coordinate,n=t.states,r=Object(te.a)(t,["coordinate","states"]),a={coordinate:e,states:n};return n.hit?Object(He.jsx)(Fe,Object(D.a)({coordinateAPI:a},r)):Object(He.jsx)(De,Object(D.a)({coordinateAPI:a},r))},en=function(t){switch(Object(d.c)($t)){case"placement":return Object(He.jsx)(Ke,Object(D.a)({},t));case"started":return Object(He.jsx)(Ze,Object(D.a)({},t));default:return Object(He.jsx)(tn,Object(D.a)({},t))}},nn=n(45),rn=(n(63),function(t){var e=t.row,n=t.yIndex;return Object(He.jsx)(He.Fragment,{children:e.map((function(t,e){return Object(He.jsx)(nn.AspectRatio,{ratio:"1",children:Object(He.jsx)(en,{coordinate:[e,n],states:t})},e)}))})}),an=n(46),cn=n(25),on=function(t){var e=Object(d.b)(),n=function(t){var e=Object(d.c)($t),n=Be(t),r=Object(d.c)((function(e){return kt(e,t.boardId)})),a=Object(d.c)((function(e){return st(e,t.id)}));return"started"===e&&0===n&&0===r?a:null}(t);Object(i.useEffect)((function(){n&&(e(Ft()),e(Jt(n)),cn.animateScroll.scrollToTop())}),[e,n])},sn=function(t){var e=t.children,n=t.className,r=Object(te.a)(t,["children","className"]);return Object(He.jsx)("span",Object(D.a)(Object(D.a)({className:ne()("tag",n)},r),{},{children:e}))},un=function(t){var e=t.className,n=ce()[1],r=Object(d.c)(ke);return n.computer?Object(He.jsxs)("h3",{className:e,children:["The computer sinks ",r," ",1===r?"ship":"ships"," per turn"]}):Object(He.jsx)("h3",{className:ne()(e,"has-text-success"),children:"Click on this board to sink their ships!"})},dn=function(t){var e=t.status,n=ae();switch(e){case"miss":return Object(He.jsxs)(sn,{className:"is-danger",children:[n.name," took a shot and missed."]});case"sunk":return Object(He.jsxs)(sn,{className:"is-success",children:[n.name," sunk a ship!"]});case"hit":return Object(He.jsxs)(sn,{className:"is-info",children:[n.name," hit a ship!"]});default:return Object(He.jsx)(sn,{children:"Unknown Status!"})}},bn=function(){var t=ce(),e=Object(O.a)(t,2),n=e[0],r=e[1].boardId,a=Object(d.c)((function(t){return function(t,e){var n=Ht(t,e);return X(t,n)}(t,r)})),c=Object(d.c)(ke),i=n.computer?c:1,o=a.slice(Math.max(0,a.length-i)).map((function(t){var e=Object(O.a)(t,2);e[0];return e[1].status}));return o.length>0?Object(He.jsx)(ln,{statuses:o}):Object(He.jsx)(sn,{children:"No Moves Made yet."})},ln=function(t){return t.statuses.map((function(t,e){return Object(He.jsx)(dn,{status:t},e)}))},jn=function(){var t=ae(),e=Be(t);return Object(He.jsxs)("div",{className:"box mx-5 interface tags is-justify-content-center is-flex-direction-column",children:[Object(He.jsx)(un,{className:"title is-5"}),Object(He.jsxs)(sn,{className:"is-medium is-info is-outlined",children:["Ships Remaining: ",e]}),Object(He.jsx)("div",{className:"tags",children:Object(He.jsx)(bn,{})})]})},fn=function(){var t=ae(),e=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"r",r=Object(d.b)(),a=Object(d.c)($t),c=Object(d.c)((function(e){return yt(e,t)})),i=Object(d.c)((function(e){return Ct(e,t)})),o=Object(d.c)((function(t){return ot(t,i)}));e=c?Object(D.a)(Object(D.a)({},c),{},{orientation:k(c.orientation)}):c;var s=function(){o.computer||"placement"!==a||(r(qt(1)),e&&r(Mt(e)))};return Object(re.a)(n,s),s}(t.boardId,"t"),n=Object(d.c)((function(e){return wt(e,t.boardId)})),r=Object(d.c)((function(e){return kt(e,t.boardId)}));return t.computer?Object(He.jsxs)("div",{className:"box mx-3",children:[Object(He.jsx)("h2",{className:"title is-5 mb-3",children:"Waiting..."}),Object(He.jsx)("div",{className:"tags is-justify-content-center",children:Object(He.jsx)(sn,{className:"is-warning is-medium is-light",children:"Waiting for you to place your pieces..."})})]}):Object(He.jsxs)("div",{className:"box mx-3",children:[Object(He.jsx)("h2",{className:"title is-5 has-text-success mb-3 has-white-space-nowrap",children:"Place your pieces"}),Object(He.jsxs)("div",{className:"tags is-justify-content-center is-align-items-baseline is-flex-wrap-nowrap",children:[Object(He.jsxs)("button",{className:"tag button is-medium is-outlined is-info",onClick:e,children:["Rotate: ",Object(He.jsxs)("span",{className:"orientation",children:[n,"\xb0"]})]}),Object(He.jsxs)(sn,{className:"is-info is-medium is-light",children:[r," ",1===r?"ship":"ships"," left to place"]})]})]})},pn=function(){switch(Object(d.c)($t)){case"placement":return Object(He.jsx)(fn,{});case"started":return Object(He.jsx)(jn,{});default:return null}},hn=(n(82),an.a.div(c||(c=Object(Xt.a)(["\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  width: 75%;\n  margin: 0 auto;\n  padding: 1em;\n  grid-gap: 2px;\n\n  &:focus {\n    outline: none;\n  }\n"])))),On=function(t){var e=t.player,n=Object(d.c)((function(t){return gt(t,e.boardId)}));return function(t,e){var n=t.boardId,r=Object(d.b)(),a=Object(d.c)((function(t){return kt(t,n)}));Object(i.useEffect)((function(){a>0&&e(t)&&r(jt({boardId:n}))}),[r])}(e,(function(t){return t.computer})),on(e),Object(He.jsx)(Zt.Provider,{value:e,children:Object(He.jsxs)("div",{className:"board",children:[Object(He.jsx)("h2",{className:"title is-3 my-3 is-primary",children:e.name}),Object(He.jsx)(pn,{}),Object(He.jsx)(hn,{tabIndex:e.computer?"-1":"0",children:n.map((function(t,e){return Object(He.jsx)(rn,{row:t,yIndex:e},e)}))})]})})},vn=function(){var t=Object(d.c)(it),e=function(){var t=Object(d.b)();return function(){t(Wt())}}(),n=Object(d.c)($t);return Object(i.useEffect)((function(){"ended"!==n&&cn.animateScroll.scrollToBottom()}),[n]),Object(He.jsxs)("div",{children:[Object(He.jsx)("button",{className:"button is-primary is-outlined",onClick:e,children:"Reset"}),Object(He.jsx)("div",{className:"boards",children:t.map((function(t){return Object(He.jsx)(On,{player:t},t.id)}))})]})},mn=n(50),xn=function(){return Object(He.jsxs)("p",{children:["To place your ship, hover over your board and click on a coordinate.",Object(He.jsx)("br",{}),"Press t to rotate your ship or click on the rotate button.",Object(He.jsx)("br",{}),"Press tab on desktop to cycle over any valid placements."]})},gn=function(){return Object(He.jsxs)("p",{children:["Start sinking ships by clicking on coordinates on your opponent's board.",Object(He.jsx)("br",{}),"Press tab on desktop to cycle over each valid coordinate.",Object(He.jsx)("br",{}),"Sink all 5 ships before your opponent to win!"]})},yn=function(){return Object(d.c)(Gt).computer?Object(He.jsxs)("div",{className:"winner-container",children:[Object(He.jsx)(mn.a,{className:"winner-icon has-text-info"}),Object(He.jsx)("h3",{className:"title is-3 mb-3",children:"The computer won."}),Object(He.jsx)("p",{children:"Try again?"})]}):Object(He.jsxs)("div",{className:"winner-container",children:[Object(He.jsx)(Ve.a,{className:"winner-icon has-text-info"}),Object(He.jsx)("h3",{className:"title is-3 mb-3",children:"You win!"}),Object(He.jsx)("p",{children:"Try again?"})]})},In=function(){var t=Object(d.c)($t);switch(t){case"placement":return Object(He.jsx)(xn,{});case"started":return Object(He.jsx)(gn,{});case"ended":return Object(He.jsx)(yn,{});default:return Object(He.jsxs)("p",{children:["Current phase: ",t]})}},wn=function(t){var e=t.difficulty,n=t.strategy,r=t.className,a=t.children,c=Object(d.b)();return Object(He.jsx)("button",{className:ne()("button",r,"m-1"),onClick:function(){c(Ne({difficulty:e,strategy:n}))},children:a})},Nn=function(){return Object(He.jsxs)("div",{children:[Object(He.jsxs)("div",{children:[Object(He.jsx)(wn,{difficulty:"easy",strategy:"random",className:"is-info",children:"Random Easy"}),Object(He.jsx)(wn,{difficulty:"medium",strategy:"random",className:"is-success",children:"Random Medium"}),Object(He.jsx)(wn,{difficulty:"hard",strategy:"random",className:"is-warning",children:"Random Hard"})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)(wn,{difficulty:"easy",strategy:"hunt",className:"is-success",children:"Medium"}),Object(He.jsx)(wn,{difficulty:"medium",strategy:"hunt",className:"is-warning",children:"Hard"}),Object(He.jsx)(wn,{difficulty:"hard",strategy:"hunt",className:"is-danger",children:"Very Hard"})]})]})};n(84),n(85);var Sn=function(){var t=Object(d.c)(Kt);return Object(He.jsxs)("div",{className:"App mb-5",children:[Object(He.jsx)("h1",{className:"title is-1 my-5",children:"Battleship"}),Object(He.jsxs)("div",{className:"container is-fluid",children:[Object(He.jsx)("div",{className:"box phase-message",children:t?Object(He.jsx)(In,{}):Object(He.jsx)("p",{children:"Choose a difficulty to begin!"})}),t?Object(He.jsx)(vn,{}):Object(He.jsx)(Nn,{})]})]})},kn=Object(p.a)({reducer:{players:ut,boards:Vt,game:Qt,ships:z,hitHistory:et,ai:Pe,huntAi:he}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(Object(He.jsx)(o.a.StrictMode,{children:Object(He.jsx)(d.a,{store:kn,children:Object(He.jsx)(Sn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.c2e0332e.chunk.js.map